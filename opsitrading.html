<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Binary Option Trading (Fixed Price)</title>
  <style>
    :root {
      --primary-color: #1e88e5;
      --bg-color: #f5f5f5;
      --text-color: #333;
      --card-bg: #fff;
      --up-color: #4caf50;
      --down-color: #f44336;
    }
    * { box-sizing:border-box; margin:0; padding:0; font-family:Poppins,sans-serif; }
    body { background:var(--bg-color); color:var(--text-color); }
    .header { display:flex; justify-content:space-between; align-items:center;
      background:var(--primary-color); color:#fff; padding:1rem; }
    .controls { display:flex; gap:.5rem; padding:1rem; }
    .controls select, .controls button { padding:.5rem; border-radius:4px; border:1px solid #ccc; }
    .btn-deposit { background:var(--primary-color); color:#fff; border:none; cursor:pointer; }
    .trading-panel { background:var(--card-bg); max-width:960px; margin:1rem auto; padding:1rem;
      border-radius:6px; box-shadow:0 2px 6px rgba(0,0,0,.1); overflow:hidden; }
    .chart-container { display:flex; flex-wrap:wrap; gap:1rem; }
    #chartCanvas { flex:1 1 0; max-width:100%; height:400px; border:1px solid #ddd; }
    .price-display {
      width:100px; padding:1rem; font-size:1.1rem;
      border-left:1px solid #ccc; text-align:center;
      display:flex; flex-direction:column; justify-content:center;
    }
    @media (max-width:600px) {
      .chart-container { flex-direction:column; }
      .price-display {
        width:100%; border-left:none; border-top:1px solid #ccc; padding-top:.5rem;
      }
    }
    .market-info { display:flex; justify-content:space-between; margin:.5rem 0; }
    .options { display:flex; gap:.5rem; margin-bottom:.5rem; }
    .option-btn { flex:1; padding:.8rem; border:none; border-radius:4px;
      color:#fff; font-weight:bold; cursor:pointer; }
    #btnUp { background:var(--up-color); }
    #btnDown { background:var(--down-color); }
    .bet-controls { display:flex; gap:.5rem; margin-bottom:.5rem; }
    .bet-controls input { flex:1; padding:.6rem; border-radius:4px; border:1px solid #ccc; }
    .btn-place { background:var(--primary-color); color:#fff; border:none; padding:.6rem 1rem;
      border-radius:4px; cursor:pointer; }
    .result { text-align:center; font-weight:bold; margin-top:.5rem; }
    .footer { text-align:center; margin:1rem; color:#777; }
  </style>
</head>
<body>
  <div class="header">
    <div>ðŸš€ Crash GOOGLE</div>
    <div>Saldo: <span id="balance">1000.00</span> USD</div>
  </div>

  <div class="controls">
    <select id="symbolSelect">
      <option value="EURUSD">EUR/USD</option>
      <option value="GBPUSD">GBP/USD</option>
      <option value="USDJPY">USD/JPY</option>
      <option value="AUDUSD">AUD/USD</option>
      <option value="USDCAD">USD/CAD</option>
      <option value="USDCHF">USD/CHF</option>
      <option value="NZDUSD">NZD/USD</option>
      <option value="XAUUSD">XAU/USD</option>
    </select>
    <select id="tfSelect">
      <option value="1">1m</option>
      <option value="5">5m</option>
      <option value="15">15m</option>
      <option value="60">1h</option>
    </select>
    <select id="durSelect">
      <option value="60">1 menit</option>
      <option value="120">2 menit</option>
      <option value="300">5 menit</option>
    </select>
    <button id="btnDeposit" class="btn-deposit">Deposit</button>
  </div>

  <section class="trading-panel">
    <div class="chart-container">
      <canvas id="chartCanvas"></canvas>
      <div class="price-display">
        <div>Harga</div>
        <div id="currentPrice">â€“</div>
      </div>
    </div>
    <div class="market-info">
      <div id="currSymbol">EUR/USD</div>
      <div>Durasi: <span id="currDur">60</span>s</div>
    </div>
    <div class="options">
      <button id="btnUp" class="option-btn">CALL â†‘</button>
      <button id="btnDown" class="option-btn">PUT â†“</button>
    </div>
    <div class="bet-controls">
      <input type="number" id="betAmount" placeholder="Jumlah (USD)" min="1">
      <button id="btnPlace" class="btn-place">Place Bet</button>
    </div>
    <div id="result" class="result"></div>
  </section>

  <div class="footer">Â© 2025 YourCompany</div>

  <script>
    const canvas = document.getElementById('chartCanvas'), ctx = canvas.getContext('2d');
    const priceEl = document.getElementById('currentPrice');
    let w,h;
    function resize(){ w=canvas.clientWidth; h=canvas.clientHeight; canvas.width=w; canvas.height=h; }
    window.addEventListener('resize',resize); resize();

    // UI refs
    const sym = document.getElementById('symbolSelect'),
          tf  = document.getElementById('tfSelect'),
          dr  = document.getElementById('durSelect'),
          cs  = document.getElementById('currSymbol'),
          cd  = document.getElementById('currDur'),
          bal = document.getElementById('balance'),
          btnD= document.getElementById('btnDeposit'),
          btnU= document.getElementById('btnUp'),
          btnV= document.getElementById('btnDown'),
          betI= document.getElementById('betAmount'),
          btnP= document.getElementById('btnPlace'),
          res = document.getElementById('result');

    let balance=1000, tradeDur=+dr.value, selection=null,
        candles=[], markers=[], fakeInt, lastPrice=null;

    function updateInfo(){
      cs.textContent = sym.selectedOptions[0].text;
      tradeDur = +dr.value; cd.textContent = tradeDur;
    }

    function genHistory(base, cnt=50){
      const tfv=+tf.value, now=Math.floor(Date.now()/1000);
      let b=base, out=[];
      for(let i=cnt;i>0;i--){
        const t=now - i*tfv*60,
              o=b,
              c=o*(1+(Math.random()*0.02-0.01)),
              h=Math.max(o,c)*(1+Math.random()*0.005),
              l=Math.min(o,c)*(1-Math.random()*0.005);
        out.push({time:t,open:o,high:h,low:l,close:c});
        b=c;
      }
      return out;
    }

    function startTicks(){
      clearInterval(fakeInt);
      fakeInt=setInterval(()=>{
        const change = lastPrice*(Math.random()*0.004-0.002);
        lastPrice += change;
        const L=candles[candles.length-1];
        L.close=lastPrice; L.high=Math.max(L.high,L.close); L.low=Math.min(L.low,L.close);
        priceEl.textContent=lastPrice.toFixed(4);
        draw();
      },1000);
    }

    function getY(p){
      const vals=candles.flatMap(c=>[c.high,c.low]),
            maxP=Math.max(...vals), minP=Math.min(...vals);
      return ((maxP-p)/(maxP-minP))*(h*0.8)+h*0.1;
    }

    function draw(){
      ctx.clearRect(0,0,w,h);
      if(!candles.length) return;
      const bw=w/candles.length*0.8;
      candles.forEach((c,i)=>{
        const x=i*(w/candles.length)+(w/candles.length-bw)/2,
              yO=getY(c.open), yC=getY(c.close),
              yH=getY(c.high),   yL=getY(c.low);
        ctx.strokeStyle='#555'; ctx.beginPath();
        ctx.moveTo(x+bw/2,yH); ctx.lineTo(x+bw/2,yL); ctx.stroke();
        ctx.fillStyle=c.close>=c.open?'var(--up-color)':'var(--down-color)';
        ctx.fillRect(x,Math.min(yO,yC),bw,Math.abs(yC-yO)||1);
      });
      markers.forEach(m=>{
        const idx=candles.findIndex(c=>c.time===m.time);
        if(idx<0) return;
        const x=idx*(w/candles.length)+(w/candles.length)/2,
              y=getY(m.price)+(m.type==='CALL'?10:-10);
        ctx.fillStyle=m.type==='CALL'?'green':'red';
        ctx.font='14px sans-serif'; ctx.textAlign='center';
        ctx.fillText(m.type,x,y);
      });
    }

    function loadChart(){
      updateInfo();
      if(lastPrice===null) lastPrice = 1 + (sym.value.charCodeAt(0)%20)/10;
      candles = genHistory(lastPrice);
      lastPrice = candles[candles.length-1].close;
      markers=[]; priceEl.textContent=lastPrice.toFixed(4);
      draw(); startTicks();
    }

    sym.addEventListener('change',loadChart);
    tf.addEventListener('change',loadChart);
    dr.addEventListener('change',updateInfo);
    btnD.addEventListener('click',()=>{ const v=parseFloat(prompt('Deposit USD:')); if(v>0){balance+=v;bal.textContent=balance.toFixed(2);} });
    btnU.addEventListener('click',()=>selection='CALL');
    btnV.addEventListener('click',()=>selection='PUT');
    btnP.addEventListener('click',()=>{
      if(!selection) return alert('Klik CALL atau PUT dulu');
      const b=parseFloat(betI.value);
      if(!b||b<=0) return alert('Jumlah valid');
      const L=candles[candles.length-1];
      markers.push({time:L.time,price:L.close,type:selection});
      draw(); alert(`${selection} @ ${L.close.toFixed(4)} diterima`);
      setTimeout(()=>{
        const win=Math.random()<0.5;
        if(win){const p=b*0.8;balance+=p;res.textContent=`Menang +${p.toFixed(2)} USD`;}
        else{balance-=b;res.textContent=`Kalah -${b.toFixed(2)} USD`;}
        bal.textContent=balance.toFixed(2); selection=null; betI.value='';
      }, tradeDur*1000);
    });

    loadChart();
  </script>
</body>
</html>

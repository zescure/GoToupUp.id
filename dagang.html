<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Fake Market DMP/ZRC</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background: #111;
        color: #fff;
        text-align: center;
        padding: 20px;
    }
    h1 { color: gold; }
    .market {
        background: #222;
        padding: 20px;
        border-radius: 10px;
        display: inline-block;
        box-shadow: 0 0 15px rgba(255,215,0,0.5);
    }
    .price { font-size: 2em; margin: 10px 0; }
    .volume, .liquidity { font-size: 1.2em; }
</style>
<script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-database-compat.js"></script>
</head>
<body>

<h1>Market DMP/ZRC</h1>
<div class="market">
    <div class="price">Price: <span id="price">Loading...</span></div>
    <div class="volume">Volume: <span id="volume">Loading...</span></div>
    <div class="liquidity">Liquidity: <span id="liquidity">Loading...</span></div>
</div>

<script>
// Konfigurasi Firebase
const firebaseConfig = {
  apiKey: "AIzaSyDVUEZ3ZVmH4ld7LVnEq_L368wEJpEs-l8",
  authDomain: "zeepaylater-93a94.firebaseapp.com",
  projectId: "zeepaylater-93a94",
  storageBucket: "zeepaylater-93a94.appspot.com",
  messagingSenderId: "358065954807",
  appId: "1:358065954807:web:66619211fea82a4b2518f2"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.database();

// Fungsi untuk update harga bot
function botUpdatePrice() {
    const priceRef = db.ref("market/dmpzrc");

    priceRef.once("value", snapshot => {
        let marketData = snapshot.val();
        if (!marketData) {
            marketData = { price: 100.123, volume: 5000, liquidity: 20000 };
        }
        // Random naik turun harga
        let change = (Math.random() - 0.5) * 0.2; 
        marketData.price = Math.max(1, parseFloat((marketData.price + change).toFixed(3)));
        marketData.volume = Math.floor(Math.random() * 10000 + 1000);
        marketData.liquidity = Math.floor(Math.random() * 50000 + 5000);

        priceRef.set(marketData);
    });
}

// Tiap 5 detik bot update harga
setInterval(botUpdatePrice, 5000);

// Update realtime ke semua user
db.ref("market/dmpzrc").on("value", snapshot => {
    const data = snapshot.val();
    if (data) {
        document.getElementById("price").innerText = data.price;
        document.getElementById("volume").innerText = data.volume + " DMP";
        document.getElementById("liquidity").innerText = data.liquidity + " ZRC";
    }
});
</script>

</body>
</html>
